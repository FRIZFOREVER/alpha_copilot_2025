"""
This type stub file was generated by pyright.
"""

from enum import Enum
from typing import Any, Dict, List, Optional
from pydantic import BaseModel
from ml.configs.message import ChatHistory, RequestPayload

class MemoriesEvidance(BaseModel):
    extracted_memories: List[str] = ...


class NextAction(str, Enum):
    THINK = ...
    REQUEST_TOOL = ...
    AWAIT_OBSERVATION = ...
    ANSWER = ...
    FINISH = ...


class ResearchToolRequest(BaseModel):
    tool_name: str = ...
    input_text: str = ...
    metadata: Dict[str, Any] = ...


class ResearchObservation(BaseModel):
    tool_name: str = ...
    content: str = ...
    metadata: Dict[str, Any] = ...


class ResearchTurn(BaseModel):
    request: Optional[ResearchToolRequest] = ...
    observation: Optional[ResearchObservation] = ...
    reasoning_summary: Optional[str] = ...


class GraphState(BaseModel):
    """State model for LangGraph pipeline."""
    payload: RequestPayload
    memories: MemoriesEvidance = ...
    final_prompt: Optional[ChatHistory] = ...
    final_answer_draft: Optional[str] = ...
    final_answer_evidence: List[str] = ...
    turn_history: List[ResearchTurn] = ...
    active_tool_request: Optional[ResearchToolRequest] = ...
    active_observation: Optional[ResearchObservation] = ...
    latest_reasoning: Optional[str] = ...
    loop_counter: int = ...
    next_action: NextAction = ...


